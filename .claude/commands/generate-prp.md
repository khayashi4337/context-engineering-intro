# PRPの作成

## 機能ファイル: $ARGUMENTS

十分なリサーチをもとに、一般的な機能実装向けの完全なPRP（Product Requirements Prompt）を生成します。AIエージェントが自己検証と反復的な改善を行えるよう、十分なコンテキストをPRPに渡してください。まず機能ファイルを読み、何を作るべきか・例がどう役立つか・その他の考慮事項を把握します。

AIエージェントは、あなたがPRPに追加したコンテキストと学習データしか参照できません。AIエージェントはコードベースにアクセス可能で、あなたと同じ知識カットオフを持つものと仮定してください。そのため、あなたのリサーチ結果は必ずPRPに含めるか参照リンクを記載してください。エージェントはWeb検索も可能なので、ドキュメントや例のURLも渡してください。

## リサーチプロセス

1. **コードベース分析**
   - 類似機能やパターンをコードベースから検索
   - PRPで参照すべきファイルを特定
   - 守るべき既存の規約をメモ
   - テストパターンを確認し、検証方法を把握

2. **外部リサーチ**
   - 類似機能やパターンをWebで調査
   - ライブラリ公式ドキュメント（具体的なURLを含める）
   - 実装例（GitHub/StackOverflow/ブログ等）
   - ベストプラクティスやよくある落とし穴

3. **ユーザーへの確認（必要に応じて）**
   - どのパターンを真似すべきか・その場所は？
   - 統合要件や参照先は？

## PRP生成

PRPs/templates/prp_base.md をテンプレートとして利用：

### PRPに必ず含めてAIエージェントに渡すべき重要コンテキスト
- **ドキュメント**：具体的セクション付きのURL
- **コード例**：実際のコードベースからのスニペット
- **注意点**：ライブラリの癖やバージョン問題
- **パターン**：既存の実装アプローチ

### 実装設計（Implementation Blueprint）
- まず擬似コードでアプローチを示す
- パターン参照用の実ファイルを明記
- エラーハンドリング方針も記載
- PRPを満たすためのタスクを順序立てて列挙

### バリデーションゲート（Python例：必ず実行可能なもの）
```bash
# 構文・スタイルチェック
ruff check --fix && mypy .

# ユニットテスト
uv run pytest tests/ -v

```

*** コードベースの調査・リサーチが完了してからPRP執筆を開始すること ***

*** PRPについて十分に考え、アプローチを計画してから執筆を始めること ***

## 出力
`PRPs/{feature-name}.md` として保存

## 品質チェックリスト
- [ ] 必要なコンテキストがすべて含まれている
- [ ] バリデーションゲートがAIで実行可能
- [ ] 既存パターンを参照している
- [ ] 実装手順が明確
- [ ] エラーハンドリング方針が記載されている

PRPの「一発実装成功度」を1-10で自己評価してください（claude codesでワンパス実装できる自信度）

※目標は「十分なコンテキストで一発実装成功」を目指すことです。